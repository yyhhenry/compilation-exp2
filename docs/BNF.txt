<Program> ::= <StmtList>

<StmtList> ::= <Stmt> <StmtList> | ε

<Stmt> ->
      <Decl>
    | <ExprStmt>
    | <CtrlFlow>
    | <FuncDecl>
    | <ReturnStmt>
    | ";"
    | "{" <StmtList> "}"

<Decl> ::= 
      "let" <Var> <Init>
    | "const" <Var> "=" <Expr> ";"
<Init> ::= "=" <Expr> ";"
<Init> ::= ";"

<Var> ::= <Ident>

<ExprStmt> ::= <Expr> ";"

<Expr> ::= <LogicalOrExpr>

<LogicalOrExpr> ::= <LogicalAndExpr> <LogicalOrExprTail>
<LogicalOrExprTail> ::= "||" <LogicalAndExpr> <LogicalOrExprTail>
<LogicalOrExprTail> ::= ε

<LogicalAndExpr> ::= <EqualityExpr> <LogicalAndExprTail>
<LogicalAndExprTail> ::= "&&" <EqualityExpr> <LogicalAndExprTail>
<LogicalAndExprTail> ::= ε

<EqualityExpr> ::= <RelationalExpr> <EqualityExprTail>
<EqualityExprTail> ::= "==" <RelationalExpr> <EqualityExprTail>
<EqualityExprTail> ::= "!=" <RelationalExpr> <EqualityExprTail>
<EqualityExprTail> ::= ε

<RelationalExpr> ::= <AdditiveExpr> <RelationalExprTail>
<RelationalExprTail> ::= "<" <AdditiveExpr> <RelationalExprTail>
<RelationalExprTail> ::= ">" <AdditiveExpr> <RelationalExprTail>
<RelationalExprTail> ::= "<=" <AdditiveExpr> <RelationalExprTail>
<RelationalExprTail> ::= ">=" <AdditiveExpr> <RelationalExprTail>
<RelationalExprTail> ::= ε

<AdditiveExpr> ::= <Term> <AdditiveExprTail>
<AdditiveExprTail> ::= "+" <Term> <AdditiveExprTail>
<AdditiveExprTail> ::= "-" <Term> <AdditiveExprTail>
<AdditiveExprTail> ::= ε

<Term> ::= <Factor> <TermTail>
<TermTail> ::= "*" <Factor> <TermTail>
<TermTail> ::= "/" <Factor> <TermTail>
<TermTail> ::= ε

<Factor> ->
      <UnaryExpr>
    | <PostfixExpr>

<UnaryExpr> ->
      "+" <PostfixExpr>
    | "-" <PostfixExpr>
    | "!" <PostfixExpr>

<PostfixExpr> ->
      <PrimaryExpr> <PostfixExprTail>
<PostfixExprTail> ->
      "(" <ParamListOpt> ")" <PostfixExprTail>
    | "[" <Expr> "]" <PostfixExprTail>
    | "." <Ident> <PostfixExprTail>
<PostfixExprTail> ::= ε

<PrimaryExpr> ->
      <Lit>
    | <Ident>
    | "(" <Expr> ")"
    | <Array>
    | <Obj>

<ParamListOpt> ::= <ParamList>
<ParamListOpt> ::= ε
<ParamList> ::= <Expr> <ParamListTail>
<ParamListTail> ::= "," <Expr> <ParamListTail>
<ParamListTail> ::= ε

<Ident> ::= [a-zA-Z_][a-zA-Z0-9_]*

<Lit> ->
      <Num>
    | <Str>
    | "true"
    | "false"
    | "null"
    | "undefined"
    | <Array>
    | <Obj>

<Num> ::= <Digits> "." <Digits>
<Num> ::= <Digits>
<Digits> ::= [0-9]+

<Str> ::= "\"" [^"]* "\""
<Array> ::= "[" <ExprListOpt> "]"
<Obj> ::= "{" <KVPListOpt> "}"

<KVPListOpt> ::= <KVPList>
<KVPListOpt> ::= ε
<KVPList> ::= <KVP> <KVPListTail>
<KVPListTail> ::= "," <KVP> <KVPListTail>
<KVPListTail> ::= ε

<KVP> ::= <Ident> ":" <Expr>

<CtrlFlow> ->
      "if" "(" <Expr> ")" <Stmt> <ElseOpt>
    | "while" "(" <Expr> ")" <Stmt>
    | "for" "(" <ForInit> <ExprOpt> ";" <ExprOpt> ")" <Stmt>
<ElseOpt> ::= "else" <Stmt>
<ElseOpt> ::= ε
<ForInit> ::= <Decl> | <ExprStmt> | ";"
<ExprOpt> ::= <Expr>
<ExprOpt> ::= ε

<FuncDecl> ::= "function" <Ident> "(" <FormalParamsOpt> ")" "{" <StmtList> "}"
<FormalParamsOpt> ::= <FormalParams>
<FormalParamsOpt> ::= ε
<FormalParams> ::= <Var> <FormalParamsTail>
<FormalParamsTail> ::= "," <Var> <FormalParamsTail>
<FormalParamsTail> ::= ε

<ReturnStmt> ::= "return" <ExprOpt> ";"
